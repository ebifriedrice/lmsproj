{{template "base" .}}

{{define "title"}}Admin: Course Details{{end}}

{{define "page_nav"}}
    {{template "nav" .}}
{{end}}

{{define "main"}}
    <h1 class="text-2xl font-bold text-blue">{{.Data.Course.Title}}</h1>
    <p class="mt-2">{{.Data.Course.Description}}</p>

    <hr class="mt-8 mb-8">

    <div class="card">
        <h2 class="text-xl font-bold text-blue">Lessons</h2>
        <ul class="list-disc pl-5 mt-4">
            {{range .Data.Lessons}}
                <li class="mt-2">
                    <a href="/admin/lessons/{{.ID}}" class="text-orange">{{.Title}}</a> (Position: {{.Position}})
                </li>
            {{else}}
                <li>No lessons yet.</li>
            {{end}}
        </ul>
    </div>

    <div class="card mt-8">
        <h2 class="text-xl font-bold text-blue">Add a New Lesson</h2>
        <form action="/admin/courses/{{.Data.Course.ID}}/lessons" method="post" class="mt-4">
            <div>
                <label for="title">Lesson Title:</label>
                <input type="text" id="title" name="title" required class="w-full p-2 border border-gray rounded">
            </div>
            <div class="mt-4">
                <label for="position">Position:</label>
                <input type="number" id="position" name="position" required class="w-full p-2 border border-gray rounded">
            </div>
            <div class="mt-8">
                <button type="submit" class="btn btn-blue">Add Lesson</button>
            </div>
        </form>
    </div>
{{end}}
